# Configuration your Next.js project

### 0: [Install Tailwind CSS](https://tailwindcss.com/docs/guides/nextjs)

### 1: Import derealize babel plugin

````mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs
  defaultValue="npm"
  values={[
    { label: 'npm', value: 'npm' },
    { label: 'yarn', value: 'yarn' }
]}>
  <TabItem value="npm">

  ```bash
  npm install --save-dev @derealize/babel-plugin-transform-react
  ```

  </TabItem>
  <TabItem value="yarn">

  ```bash
  yarn add --dev @derealize/babel-plugin-transform-react
  ```

  </TabItem>
</Tabs>
````

```json title="./.babelrc"
{
  "presets": ["next/babel"],
  "plugins": ["@derealize/transform-react"]
}
```

### 2: Config tailwindcss

```js title="./tailwind.config.js" {2,6}
module.exports = {
  mode: "jit",
  purge: [
    "./pages/**/*.{js,ts,jsx,tsx}",
    "./components/**/*.{js,ts,jsx,tsx}",
    "./derealize-jit.html",
  ],
  ...
}
```

### 3: Config derealize

```js title="./package.json" {6,8-21}
  ...
  "scripts": {
    "dev": "next dev -p 3001",
    "build": "next build",
    "start": "next start",
    "format": "prettier --write **/*.{js,jsx,ts,tsx} --config ./.prettierrc"
  },
  "derealize": {
    "runScript": "dev",
    "formatScript": "format",
    "baseUrl": "http://localhost:3001",
    "port": 3001,
    "pages": [
      "/",
      "/Welcome",
      ...
    ],
    "assetsPath": "./static/assets",       // save your images
    "assetsUrl": "/assets",                // public path of the images
    "applyCssFile": "./styles/globals.css" // entry css file, so derealize can be parsed @apply
  },
  ...
```

:::note
The npm script 'format' is not required, but we think you will definitely need it. to prevent improperly formatting your react code every time 'drealize' updates it.
:::

### 4: Handle the routeChangeComplete event

```js title="./pages/_app.js" {8-22}
import { useEffect } from "react";
import { useRouter } from "next/router";
import "../styles/globals.css";

function MyApp({ Component, pageProps }) {
  const router = useRouter();

  useEffect(() => {
    if (typeof window === "undefined" || !window.derealize) return;

    const handleRouteChange = (url, { shallow }) => {
      window.derealize.listenElement();
    };

    router.events.on("routeChangeComplete", handleRouteChange);

    return () => {
      router.events.off("routeChangeComplete", handleRouteChange);
    };
  }, []);

  return <Component {...pageProps} />;
}

export default MyApp;
```

That's enough! [start enjoying](./import) the derealize application.
